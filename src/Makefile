#
# !!!THIS IS A GENERATED FILE!!!
# !!!DO NOT MAKE CHANGES HERE, THEY WILL BE LOST!!!
#
.PHONY: depend clean

#
# System config
#
LN = ln -sf
RM = rm -f
DOT = ./
slash = /

win32 = unix
system = null

#
# C configuration
#
CC = cc
CFLAGS =
# /usr/bin/ar does not work with Cygwin32 + OCaml MinGW64
AR = `ocamlc -config | grep 'ranlib:' | sed -e 's/ranlib: //' -e 's/ranlib/ar/'`
AR := $(AR) cq
AROUT =
EXT_OBJ = .o
EXT_LIB = .a
EXE =
CCOMPTYPE = cc

OCAMLFLAGS = -w +a-4-32-30-42-40-41 -g $(OCAMLFLAGS_EXTRA)
THREADSLIB =

.SUFFIXES: .mll .mly .mli .ml .c .cmi .cmo .cma .o .cmx

.c.o:
	inc=`ocamlc -where | tr -d '\015'`; $(CC) $(CFLAGS) -I"$$inc" -I"$$inc/caml" -c $*.c


#
# OCaml configuration
#
OCAMLC = ocamlc.opt
OCAMLOPT = ocamlopt.opt
OCAMLYACC = ocamlyacc
OCAMLLEX = ocamllex.opt
OCAMLDEP = ocamldep.opt
.mly.ml:
	$(OCAMLYACC) $*.mly

.mly.mli:
	$(OCAMLYACC) $*.mly

.mll.ml:
	$(OCAMLLEX) $*.mll

.mli.cmi:
	$(OCAMLC) $(OCAMLFLAGS) -c $*.mli

.ml.cmo:
	$(OCAMLC) $(OCAMLFLAGS) -c $*.ml

.ml.cmx:
	$(OCAMLOPT) $(OCAMLFLAGS) -c $*.ml

#
# The version.txt file
#
version.txt:
	@echo 0.0.boot > $@


OFILES_clib = lm_heap_c$(EXT_OBJ) lm_channel_c$(EXT_OBJ) lm_printf_c$(EXT_OBJ) lm_ctype_c$(EXT_OBJ) lm_uname_ext_c$(EXT_OBJ) lm_unix_cutil_c$(EXT_OBJ) lm_compat_win32_c$(EXT_OBJ) readline_c$(EXT_OBJ) omake_shell_sys_c$(EXT_OBJ) omake_shell_spawn_c$(EXT_OBJ) fam_win32_c$(EXT_OBJ) fam_kqueue_c$(EXT_OBJ) fam_inotify_c$(EXT_OBJ) lm_notify_c$(EXT_OBJ) lm_termsize_c$(EXT_OBJ) lm_terminfo_c$(EXT_OBJ) lm_fs_case_sensitive_c$(EXT_OBJ)

clib$(EXT_LIB): $(OFILES_clib)
	-$(RM) $@
	$(AR) $(AROUT)$@ $(OFILES_clib)

SRC_clib = ..$(slash)src$(slash)clib

fam_inotify_c.c: $(SRC_clib)$(slash)fam_inotify_c.c
	$(LN) $(SRC_clib)$(slash)fam_inotify_c.c fam_inotify_c.c

fam_kqueue_c.c: $(SRC_clib)$(slash)fam_kqueue_c.c
	$(LN) $(SRC_clib)$(slash)fam_kqueue_c.c fam_kqueue_c.c

fam_win32_c.c: $(SRC_clib)$(slash)fam_win32_c.c
	$(LN) $(SRC_clib)$(slash)fam_win32_c.c fam_win32_c.c

lm_channel_c.c: $(SRC_clib)$(slash)lm_channel_c.c
	$(LN) $(SRC_clib)$(slash)lm_channel_c.c lm_channel_c.c

lm_compat_win32.h: $(SRC_clib)$(slash)lm_compat_win32.h
	$(LN) $(SRC_clib)$(slash)lm_compat_win32.h lm_compat_win32.h

lm_compat_win32_c.c: $(SRC_clib)$(slash)lm_compat_win32_c.c
	$(LN) $(SRC_clib)$(slash)lm_compat_win32_c.c lm_compat_win32_c.c

lm_ctype_c.c: $(SRC_clib)$(slash)lm_ctype_c.c
	$(LN) $(SRC_clib)$(slash)lm_ctype_c.c lm_ctype_c.c

lm_fs_case_sensitive_c.c: $(SRC_clib)$(slash)lm_fs_case_sensitive_c.c
	$(LN) $(SRC_clib)$(slash)lm_fs_case_sensitive_c.c lm_fs_case_sensitive_c.c

lm_heap.h: $(SRC_clib)$(slash)lm_heap.h
	$(LN) $(SRC_clib)$(slash)lm_heap.h lm_heap.h

lm_heap_c.c: $(SRC_clib)$(slash)lm_heap_c.c
	$(LN) $(SRC_clib)$(slash)lm_heap_c.c lm_heap_c.c

lm_notify_c.c: $(SRC_clib)$(slash)lm_notify_c.c
	$(LN) $(SRC_clib)$(slash)lm_notify_c.c lm_notify_c.c

lm_printf_c.c: $(SRC_clib)$(slash)lm_printf_c.c
	$(LN) $(SRC_clib)$(slash)lm_printf_c.c lm_printf_c.c

lm_terminfo_c.c: $(SRC_clib)$(slash)lm_terminfo_c.c
	$(LN) $(SRC_clib)$(slash)lm_terminfo_c.c lm_terminfo_c.c

lm_termsize_c.c: $(SRC_clib)$(slash)lm_termsize_c.c
	$(LN) $(SRC_clib)$(slash)lm_termsize_c.c lm_termsize_c.c

lm_uname_ext_c.c: $(SRC_clib)$(slash)lm_uname_ext_c.c
	$(LN) $(SRC_clib)$(slash)lm_uname_ext_c.c lm_uname_ext_c.c

lm_unix_cutil_c.c: $(SRC_clib)$(slash)lm_unix_cutil_c.c
	$(LN) $(SRC_clib)$(slash)lm_unix_cutil_c.c lm_unix_cutil_c.c

omake_shell_spawn_c.c: $(SRC_clib)$(slash)omake_shell_spawn_c.c
	$(LN) $(SRC_clib)$(slash)omake_shell_spawn_c.c omake_shell_spawn_c.c

omake_shell_sys_c.c: $(SRC_clib)$(slash)omake_shell_sys_c.c
	$(LN) $(SRC_clib)$(slash)omake_shell_sys_c.c omake_shell_sys_c.c

readline_c.c: $(SRC_clib)$(slash)readline_c.c
	$(LN) $(SRC_clib)$(slash)readline_c.c readline_c.c

ALLFILES_clib = fam_inotify_c.c fam_kqueue_c.c fam_win32_c.c lm_channel_c.c lm_compat_win32.h lm_compat_win32_c.c lm_ctype_c.c lm_fs_case_sensitive_c.c lm_heap.h lm_heap_c.c lm_notify_c.c lm_printf_c.c lm_terminfo_c.c lm_termsize_c.c lm_uname_ext_c.c lm_unix_cutil_c.c omake_shell_spawn_c.c omake_shell_sys_c.c readline_c.c


CMOFILES_lm = lm_printf.cmo lm_debug.cmo lm_heap.cmo lm_list_util.cmo lm_array_util.cmo lm_set_sig.cmo lm_set.cmo lm_map_sig.cmo lm_map.cmo lm_int_set.cmo lm_termsize.cmo lm_terminfo.cmo lm_arg.cmo lm_index.cmo lm_thread_sig.cmo lm_thread_core.cmo lm_thread.cmo lm_string_util.cmo lm_string_set.cmo lm_hash.cmo lm_hash_code.cmo lm_symbol.cmo lm_location.cmo lm_position.cmo lm_filename_util.cmo lm_uname.cmo lm_thread_pool.cmo lm_channel.cmo lm_unix_util.cmo lm_db.cmo lm_notify.cmo lm_fs_case_sensitive.cmo lm_wild.cmo lm_readline.cmo lm_marshal.cmo lm_handle_table.cmo lm_int_handle_table.cmo lm_bitset.cmo lm_instrument.cmo
OCAML_LIB_FLAGS_lm =

lm.cma: $(CMOFILES_lm)
	$(OCAMLC) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_lm) -a -o $@ $(CMOFILES_lm)

lm.cmxa: $(CMOFILES_lm:.cmo=.cmx)
	$(OCAMLOPT) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_lm) -a -o $@ $(CMOFILES_lm:.cmo=.cmx)

lm_thread_pool.ml: ..$(slash)src$(slash)libmojave$(slash)lm_thread_pool_$(system).ml
	$(LN) ..$(slash)src$(slash)libmojave$(slash)lm_thread_pool_$(system).ml lm_thread_pool.ml

lm_thread_core.ml: ..$(slash)src$(slash)libmojave$(slash)lm_thread_core_$(system).ml
	$(LN) ..$(slash)src$(slash)libmojave$(slash)lm_thread_core_$(system).ml lm_thread_core.ml

SRC_libmojave = ..$(slash)src$(slash)libmojave

lm_arg.ml: $(SRC_libmojave)$(slash)lm_arg.ml
	$(LN) $(SRC_libmojave)$(slash)lm_arg.ml lm_arg.ml

lm_arg.mli: $(SRC_libmojave)$(slash)lm_arg.mli
	$(LN) $(SRC_libmojave)$(slash)lm_arg.mli lm_arg.mli

lm_array_util.ml: $(SRC_libmojave)$(slash)lm_array_util.ml
	$(LN) $(SRC_libmojave)$(slash)lm_array_util.ml lm_array_util.ml

lm_array_util.mli: $(SRC_libmojave)$(slash)lm_array_util.mli
	$(LN) $(SRC_libmojave)$(slash)lm_array_util.mli lm_array_util.mli

lm_bitset.ml: $(SRC_libmojave)$(slash)lm_bitset.ml
	$(LN) $(SRC_libmojave)$(slash)lm_bitset.ml lm_bitset.ml

lm_bitset.mli: $(SRC_libmojave)$(slash)lm_bitset.mli
	$(LN) $(SRC_libmojave)$(slash)lm_bitset.mli lm_bitset.mli

lm_channel.ml: $(SRC_libmojave)$(slash)lm_channel.ml
	$(LN) $(SRC_libmojave)$(slash)lm_channel.ml lm_channel.ml

lm_channel.mli: $(SRC_libmojave)$(slash)lm_channel.mli
	$(LN) $(SRC_libmojave)$(slash)lm_channel.mli lm_channel.mli

lm_db.ml: $(SRC_libmojave)$(slash)lm_db.ml
	$(LN) $(SRC_libmojave)$(slash)lm_db.ml lm_db.ml

lm_db.mli: $(SRC_libmojave)$(slash)lm_db.mli
	$(LN) $(SRC_libmojave)$(slash)lm_db.mli lm_db.mli

lm_debug.ml: $(SRC_libmojave)$(slash)lm_debug.ml
	$(LN) $(SRC_libmojave)$(slash)lm_debug.ml lm_debug.ml

lm_debug.mli: $(SRC_libmojave)$(slash)lm_debug.mli
	$(LN) $(SRC_libmojave)$(slash)lm_debug.mli lm_debug.mli

lm_filename_util.ml: $(SRC_libmojave)$(slash)lm_filename_util.ml
	$(LN) $(SRC_libmojave)$(slash)lm_filename_util.ml lm_filename_util.ml

lm_filename_util.mli: $(SRC_libmojave)$(slash)lm_filename_util.mli
	$(LN) $(SRC_libmojave)$(slash)lm_filename_util.mli lm_filename_util.mli

lm_fs_case_sensitive.ml: $(SRC_libmojave)$(slash)lm_fs_case_sensitive.ml
	$(LN) $(SRC_libmojave)$(slash)lm_fs_case_sensitive.ml lm_fs_case_sensitive.ml

lm_fs_case_sensitive.mli: $(SRC_libmojave)$(slash)lm_fs_case_sensitive.mli
	$(LN) $(SRC_libmojave)$(slash)lm_fs_case_sensitive.mli lm_fs_case_sensitive.mli

lm_handle_table.ml: $(SRC_libmojave)$(slash)lm_handle_table.ml
	$(LN) $(SRC_libmojave)$(slash)lm_handle_table.ml lm_handle_table.ml

lm_handle_table.mli: $(SRC_libmojave)$(slash)lm_handle_table.mli
	$(LN) $(SRC_libmojave)$(slash)lm_handle_table.mli lm_handle_table.mli

lm_hash.ml: $(SRC_libmojave)$(slash)lm_hash.ml
	$(LN) $(SRC_libmojave)$(slash)lm_hash.ml lm_hash.ml

lm_hash.mli: $(SRC_libmojave)$(slash)lm_hash.mli
	$(LN) $(SRC_libmojave)$(slash)lm_hash.mli lm_hash.mli

lm_hash_code.ml: $(SRC_libmojave)$(slash)lm_hash_code.ml
	$(LN) $(SRC_libmojave)$(slash)lm_hash_code.ml lm_hash_code.ml

lm_hash_code.mli: $(SRC_libmojave)$(slash)lm_hash_code.mli
	$(LN) $(SRC_libmojave)$(slash)lm_hash_code.mli lm_hash_code.mli

lm_heap.ml: $(SRC_libmojave)$(slash)lm_heap.ml
	$(LN) $(SRC_libmojave)$(slash)lm_heap.ml lm_heap.ml

lm_heap.mli: $(SRC_libmojave)$(slash)lm_heap.mli
	$(LN) $(SRC_libmojave)$(slash)lm_heap.mli lm_heap.mli

lm_index.ml: $(SRC_libmojave)$(slash)lm_index.ml
	$(LN) $(SRC_libmojave)$(slash)lm_index.ml lm_index.ml

lm_index.mli: $(SRC_libmojave)$(slash)lm_index.mli
	$(LN) $(SRC_libmojave)$(slash)lm_index.mli lm_index.mli

lm_instrument.ml: $(SRC_libmojave)$(slash)lm_instrument.ml
	$(LN) $(SRC_libmojave)$(slash)lm_instrument.ml lm_instrument.ml

lm_instrument.mli: $(SRC_libmojave)$(slash)lm_instrument.mli
	$(LN) $(SRC_libmojave)$(slash)lm_instrument.mli lm_instrument.mli

lm_int_handle_table.ml: $(SRC_libmojave)$(slash)lm_int_handle_table.ml
	$(LN) $(SRC_libmojave)$(slash)lm_int_handle_table.ml lm_int_handle_table.ml

lm_int_handle_table.mli: $(SRC_libmojave)$(slash)lm_int_handle_table.mli
	$(LN) $(SRC_libmojave)$(slash)lm_int_handle_table.mli lm_int_handle_table.mli

lm_int_set.ml: $(SRC_libmojave)$(slash)lm_int_set.ml
	$(LN) $(SRC_libmojave)$(slash)lm_int_set.ml lm_int_set.ml

lm_int_set.mli: $(SRC_libmojave)$(slash)lm_int_set.mli
	$(LN) $(SRC_libmojave)$(slash)lm_int_set.mli lm_int_set.mli

lm_list_util.ml: $(SRC_libmojave)$(slash)lm_list_util.ml
	$(LN) $(SRC_libmojave)$(slash)lm_list_util.ml lm_list_util.ml

lm_list_util.mli: $(SRC_libmojave)$(slash)lm_list_util.mli
	$(LN) $(SRC_libmojave)$(slash)lm_list_util.mli lm_list_util.mli

lm_location.ml: $(SRC_libmojave)$(slash)lm_location.ml
	$(LN) $(SRC_libmojave)$(slash)lm_location.ml lm_location.ml

lm_location.mli: $(SRC_libmojave)$(slash)lm_location.mli
	$(LN) $(SRC_libmojave)$(slash)lm_location.mli lm_location.mli

lm_map.ml: $(SRC_libmojave)$(slash)lm_map.ml
	$(LN) $(SRC_libmojave)$(slash)lm_map.ml lm_map.ml

lm_map.mli: $(SRC_libmojave)$(slash)lm_map.mli
	$(LN) $(SRC_libmojave)$(slash)lm_map.mli lm_map.mli

lm_map_sig.ml: $(SRC_libmojave)$(slash)lm_map_sig.ml
	$(LN) $(SRC_libmojave)$(slash)lm_map_sig.ml lm_map_sig.ml

lm_marshal.ml: $(SRC_libmojave)$(slash)lm_marshal.ml
	$(LN) $(SRC_libmojave)$(slash)lm_marshal.ml lm_marshal.ml

lm_marshal.mli: $(SRC_libmojave)$(slash)lm_marshal.mli
	$(LN) $(SRC_libmojave)$(slash)lm_marshal.mli lm_marshal.mli

lm_notify.ml: $(SRC_libmojave)$(slash)lm_notify.ml
	$(LN) $(SRC_libmojave)$(slash)lm_notify.ml lm_notify.ml

lm_notify.mli: $(SRC_libmojave)$(slash)lm_notify.mli
	$(LN) $(SRC_libmojave)$(slash)lm_notify.mli lm_notify.mli

lm_position.ml: $(SRC_libmojave)$(slash)lm_position.ml
	$(LN) $(SRC_libmojave)$(slash)lm_position.ml lm_position.ml

lm_position.mli: $(SRC_libmojave)$(slash)lm_position.mli
	$(LN) $(SRC_libmojave)$(slash)lm_position.mli lm_position.mli

lm_printf.ml: $(SRC_libmojave)$(slash)lm_printf.ml
	$(LN) $(SRC_libmojave)$(slash)lm_printf.ml lm_printf.ml

lm_printf.mli: $(SRC_libmojave)$(slash)lm_printf.mli
	$(LN) $(SRC_libmojave)$(slash)lm_printf.mli lm_printf.mli

lm_readline.ml: $(SRC_libmojave)$(slash)lm_readline.ml
	$(LN) $(SRC_libmojave)$(slash)lm_readline.ml lm_readline.ml

lm_readline.mli: $(SRC_libmojave)$(slash)lm_readline.mli
	$(LN) $(SRC_libmojave)$(slash)lm_readline.mli lm_readline.mli

lm_set.ml: $(SRC_libmojave)$(slash)lm_set.ml
	$(LN) $(SRC_libmojave)$(slash)lm_set.ml lm_set.ml

lm_set.mli: $(SRC_libmojave)$(slash)lm_set.mli
	$(LN) $(SRC_libmojave)$(slash)lm_set.mli lm_set.mli

lm_set_sig.ml: $(SRC_libmojave)$(slash)lm_set_sig.ml
	$(LN) $(SRC_libmojave)$(slash)lm_set_sig.ml lm_set_sig.ml

lm_string_set.ml: $(SRC_libmojave)$(slash)lm_string_set.ml
	$(LN) $(SRC_libmojave)$(slash)lm_string_set.ml lm_string_set.ml

lm_string_set.mli: $(SRC_libmojave)$(slash)lm_string_set.mli
	$(LN) $(SRC_libmojave)$(slash)lm_string_set.mli lm_string_set.mli

lm_string_util.ml: $(SRC_libmojave)$(slash)lm_string_util.ml
	$(LN) $(SRC_libmojave)$(slash)lm_string_util.ml lm_string_util.ml

lm_string_util.mli: $(SRC_libmojave)$(slash)lm_string_util.mli
	$(LN) $(SRC_libmojave)$(slash)lm_string_util.mli lm_string_util.mli

lm_symbol.ml: $(SRC_libmojave)$(slash)lm_symbol.ml
	$(LN) $(SRC_libmojave)$(slash)lm_symbol.ml lm_symbol.ml

lm_symbol.mli: $(SRC_libmojave)$(slash)lm_symbol.mli
	$(LN) $(SRC_libmojave)$(slash)lm_symbol.mli lm_symbol.mli

lm_terminfo.ml: $(SRC_libmojave)$(slash)lm_terminfo.ml
	$(LN) $(SRC_libmojave)$(slash)lm_terminfo.ml lm_terminfo.ml

lm_terminfo.mli: $(SRC_libmojave)$(slash)lm_terminfo.mli
	$(LN) $(SRC_libmojave)$(slash)lm_terminfo.mli lm_terminfo.mli

lm_termsize.ml: $(SRC_libmojave)$(slash)lm_termsize.ml
	$(LN) $(SRC_libmojave)$(slash)lm_termsize.ml lm_termsize.ml

lm_termsize.mli: $(SRC_libmojave)$(slash)lm_termsize.mli
	$(LN) $(SRC_libmojave)$(slash)lm_termsize.mli lm_termsize.mli

lm_thread.ml: $(SRC_libmojave)$(slash)lm_thread.ml
	$(LN) $(SRC_libmojave)$(slash)lm_thread.ml lm_thread.ml

lm_thread.mli: $(SRC_libmojave)$(slash)lm_thread.mli
	$(LN) $(SRC_libmojave)$(slash)lm_thread.mli lm_thread.mli

lm_thread_core.mli: $(SRC_libmojave)$(slash)lm_thread_core.mli
	$(LN) $(SRC_libmojave)$(slash)lm_thread_core.mli lm_thread_core.mli

lm_thread_pool.mli: $(SRC_libmojave)$(slash)lm_thread_pool.mli
	$(LN) $(SRC_libmojave)$(slash)lm_thread_pool.mli lm_thread_pool.mli

lm_thread_sig.ml: $(SRC_libmojave)$(slash)lm_thread_sig.ml
	$(LN) $(SRC_libmojave)$(slash)lm_thread_sig.ml lm_thread_sig.ml

lm_uname.ml: $(SRC_libmojave)$(slash)lm_uname.ml
	$(LN) $(SRC_libmojave)$(slash)lm_uname.ml lm_uname.ml

lm_uname.mli: $(SRC_libmojave)$(slash)lm_uname.mli
	$(LN) $(SRC_libmojave)$(slash)lm_uname.mli lm_uname.mli

lm_unix_util.ml: $(SRC_libmojave)$(slash)lm_unix_util.ml
	$(LN) $(SRC_libmojave)$(slash)lm_unix_util.ml lm_unix_util.ml

lm_unix_util.mli: $(SRC_libmojave)$(slash)lm_unix_util.mli
	$(LN) $(SRC_libmojave)$(slash)lm_unix_util.mli lm_unix_util.mli

lm_wild.ml: $(SRC_libmojave)$(slash)lm_wild.ml
	$(LN) $(SRC_libmojave)$(slash)lm_wild.ml lm_wild.ml

lm_wild.mli: $(SRC_libmojave)$(slash)lm_wild.mli
	$(LN) $(SRC_libmojave)$(slash)lm_wild.mli lm_wild.mli

ALLFILES_libmojave = lm_arg.ml lm_arg.mli lm_array_util.ml lm_array_util.mli lm_bitset.ml lm_bitset.mli lm_channel.ml lm_channel.mli lm_db.ml lm_db.mli lm_debug.ml lm_debug.mli lm_filename_util.ml lm_filename_util.mli lm_fs_case_sensitive.ml lm_fs_case_sensitive.mli lm_handle_table.ml lm_handle_table.mli lm_hash.ml lm_hash.mli lm_hash_code.ml lm_hash_code.mli lm_heap.ml lm_heap.mli lm_index.ml lm_index.mli lm_instrument.ml lm_instrument.mli lm_int_handle_table.ml lm_int_handle_table.mli lm_int_set.ml lm_int_set.mli lm_list_util.ml lm_list_util.mli lm_location.ml lm_location.mli lm_map.ml lm_map.mli lm_map_sig.ml lm_marshal.ml lm_marshal.mli lm_notify.ml lm_notify.mli lm_position.ml lm_position.mli lm_printf.ml lm_printf.mli lm_readline.ml lm_readline.mli lm_set.ml lm_set.mli lm_set_sig.ml lm_string_set.ml lm_string_set.mli lm_string_util.ml lm_string_util.mli lm_symbol.ml lm_symbol.mli lm_terminfo.ml lm_terminfo.mli lm_termsize.ml lm_termsize.mli lm_thread.ml lm_thread.mli lm_thread_core.mli lm_thread_pool.mli lm_thread_sig.ml lm_uname.ml lm_uname.mli lm_unix_util.ml lm_unix_util.mli lm_wild.ml lm_wild.mli lm_thread_pool.ml lm_thread_core.ml


CMOFILES_frt = lm_hash_cons.cmo lm_lexer.cmo lm_parser.cmo lm_glob.cmo
OCAML_LIB_FLAGS_frt =

frt.cma: $(CMOFILES_frt)
	$(OCAMLC) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_frt) -a -o $@ $(CMOFILES_frt)

frt.cmxa: $(CMOFILES_frt:.cmo=.cmx)
	$(OCAMLOPT) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_frt) -a -o $@ $(CMOFILES_frt:.cmo=.cmx)

SRC_front = ..$(slash)src$(slash)front

lm_glob.ml: $(SRC_front)$(slash)lm_glob.ml
	$(LN) $(SRC_front)$(slash)lm_glob.ml lm_glob.ml

lm_glob.mli: $(SRC_front)$(slash)lm_glob.mli
	$(LN) $(SRC_front)$(slash)lm_glob.mli lm_glob.mli

lm_hash_cons.ml: $(SRC_front)$(slash)lm_hash_cons.ml
	$(LN) $(SRC_front)$(slash)lm_hash_cons.ml lm_hash_cons.ml

lm_hash_cons.mli: $(SRC_front)$(slash)lm_hash_cons.mli
	$(LN) $(SRC_front)$(slash)lm_hash_cons.mli lm_hash_cons.mli

lm_lexer.ml: $(SRC_front)$(slash)lm_lexer.ml
	$(LN) $(SRC_front)$(slash)lm_lexer.ml lm_lexer.ml

lm_lexer.mli: $(SRC_front)$(slash)lm_lexer.mli
	$(LN) $(SRC_front)$(slash)lm_lexer.mli lm_lexer.mli

lm_parser.ml: $(SRC_front)$(slash)lm_parser.ml
	$(LN) $(SRC_front)$(slash)lm_parser.ml lm_parser.ml

lm_parser.mli: $(SRC_front)$(slash)lm_parser.mli
	$(LN) $(SRC_front)$(slash)lm_parser.mli lm_parser.mli

ALLFILES_front = lm_glob.ml lm_glob.mli lm_hash_cons.ml lm_hash_cons.mli lm_lexer.ml lm_lexer.mli lm_parser.ml lm_parser.mli


CMOFILES_omake_gen_magic = omake_gen_magic.cmo
OCAML_LIBS_omake_gen_magic = lm.cma frt.cma
OCAML_OTHER_LIBS_omake_gen_magic = unix.cma
OCAML_CLIBS_omake_gen_magic = clib$(EXT_LIB)
OCAML_CCLIBS_omake_gen_magic = -cclib clib$(EXT_LIB)

omake_gen_magic_byte$(EXE): $(CMOFILES_omake_gen_magic) $(OCAML_LIBS_omake_gen_magic) $(OCAML_CLIBS_omake_gen_magic)
	$(OCAMLC) $(OCAMLFLAGS) -custom -o $@ $(OCAML_CCLIBS_omake_gen_magic) $(OCAML_OTHER_LIBS_omake_gen_magic) $(THREADSLIB) $(OCAML_LIBS_omake_gen_magic) $(CMOFILES_omake_gen_magic)

omake_gen_magic$(EXE): $(CMOFILES_omake_gen_magic:.cmo=.cmx) $(OCAML_LIBS_omake_gen_magic:.cma=.cmxa) $(OCAML_CLIBS_omake_gen_magic:.cma=.cmxa)
	$(OCAMLOPT) $(OCAMLFLAGS) -o $@ $(OCAML_CCLIBS_omake_gen_magic) $(OCAML_OTHER_LIBS_omake_gen_magic:.cma=.cmxa) $(THREADSLIB:.cma=.cmxa) $(OCAML_LIBS_omake_gen_magic:.cma=.cmxa) $(CMOFILES_omake_gen_magic:.cmo=.cmx)

CMOFILES_magic = omake_magic.cmo
OCAML_LIB_FLAGS_magic =

magic.cma: $(CMOFILES_magic)
	$(OCAMLC) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_magic) -a -o $@ $(CMOFILES_magic)

magic.cmxa: $(CMOFILES_magic:.cmo=.cmx)
	$(OCAMLOPT) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_magic) -a -o $@ $(CMOFILES_magic:.cmo=.cmx)

GENMAGIC_DEPS = lm_filename_util.ml lm_hash.ml lm_location.ml lm_map.ml lm_position.ml lm_set.ml lm_symbol.ml omake_value_type.ml omake_cache.ml omake_cache_type.ml omake_node.ml omake_command_digest.ml lm_filename_util.ml lm_hash.ml lm_location.ml lm_symbol.ml lm_map.ml lm_set.ml omake_node.ml omake_ir.ml lm_filename_util.ml lm_hash.ml lm_lexer.ml lm_location.ml lm_map.ml lm_parser.ml lm_position.ml lm_set.ml lm_symbol.ml omake_value_type.ml omake_cache_type.ml omake_ir.ml omake_node.ml omake_env.ml version.txt
MAGIC_FILES =    --cache-files lm_filename_util.ml lm_hash.ml lm_location.ml lm_map.ml lm_position.ml lm_set.ml lm_symbol.ml omake_value_type.ml omake_cache.ml omake_cache_type.ml omake_node.ml omake_command_digest.ml    --omc-files lm_filename_util.ml lm_hash.ml lm_location.ml lm_symbol.ml lm_map.ml lm_set.ml omake_node.ml omake_ir.ml    --omo-files lm_filename_util.ml lm_hash.ml lm_lexer.ml lm_location.ml lm_map.ml lm_parser.ml lm_position.ml lm_set.ml lm_symbol.ml omake_value_type.ml omake_cache_type.ml omake_ir.ml omake_node.ml omake_env.ml

omake_magic.ml: omake_gen_magic$(EXE) $(GENMAGIC_DEPS)
	$(DOT)omake_gen_magic -o $@ --version version.txt --var "omake_cc=$(CC)" --var "omake_cflags=$(CFLAGS)"  --var "omake_ccomptype=cc" --magic $(MAGIC_FILES)

SRC_magic = ..$(slash)src$(slash)magic

omake_gen_magic.ml: $(SRC_magic)$(slash)omake_gen_magic.ml
	$(LN) $(SRC_magic)$(slash)omake_gen_magic.ml omake_gen_magic.ml

ALLFILES_magic = omake_gen_magic.ml


CMOFILES_ir = omake_options.cmo omake_symbol.cmo omake_state.cmo omake_node_type.cmo omake_node_sig.cmo omake_node.cmo omake_install.cmo omake_ir.cmo omake_var.cmo omake_ir_util.cmo omake_ir_print.cmo omake_ir_free_vars.cmo omake_lexer.cmo omake_parser.cmo omake_value_type.cmo omake_command_type.cmo omake_value_util.cmo omake_value_print.cmo omake_pos.cmo omake_shell_type.cmo omake_command.cmo omake_cache_type.cmo omake_cache.cmo
OCAML_LIB_FLAGS_ir =

ir.cma: $(CMOFILES_ir)
	$(OCAMLC) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_ir) -a -o $@ $(CMOFILES_ir)

ir.cmxa: $(CMOFILES_ir:.cmo=.cmx)
	$(OCAMLOPT) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_ir) -a -o $@ $(CMOFILES_ir:.cmo=.cmx)

omake_options.cmo omake_symbol.cmo omake_state.cmo omake_node_type.cmo omake_node_sig.cmo omake_node.cmo omake_install.cmo omake_ir.cmo omake_var.cmo omake_ir_util.cmo omake_ir_print.cmo omake_ir_free_vars.cmo omake_lexer.cmo omake_parser.cmo omake_value_type.cmo omake_command_type.cmo omake_value_util.cmo omake_value_print.cmo omake_pos.cmo omake_shell_type.cmo omake_command.cmo omake_cache_type.cmo omake_cache.cmo omake_options.cmi omake_state.cmi omake_node.cmi omake_install.cmi omake_var.cmi omake_ir_print.cmi omake_ir_free_vars.cmi omake_command_type.cmi omake_value_util.cmi omake_value_print.cmi omake_pos.cmi omake_command.cmi omake_cache.cmi: magic.cma

SRC_ir = ..$(slash)src$(slash)ir

omake_cache.ml: $(SRC_ir)$(slash)omake_cache.ml
	$(LN) $(SRC_ir)$(slash)omake_cache.ml omake_cache.ml

omake_cache.mli: $(SRC_ir)$(slash)omake_cache.mli
	$(LN) $(SRC_ir)$(slash)omake_cache.mli omake_cache.mli

omake_cache_type.ml: $(SRC_ir)$(slash)omake_cache_type.ml
	$(LN) $(SRC_ir)$(slash)omake_cache_type.ml omake_cache_type.ml

omake_command.ml: $(SRC_ir)$(slash)omake_command.ml
	$(LN) $(SRC_ir)$(slash)omake_command.ml omake_command.ml

omake_command.mli: $(SRC_ir)$(slash)omake_command.mli
	$(LN) $(SRC_ir)$(slash)omake_command.mli omake_command.mli

omake_command_type.ml: $(SRC_ir)$(slash)omake_command_type.ml
	$(LN) $(SRC_ir)$(slash)omake_command_type.ml omake_command_type.ml

omake_command_type.mli: $(SRC_ir)$(slash)omake_command_type.mli
	$(LN) $(SRC_ir)$(slash)omake_command_type.mli omake_command_type.mli

omake_install.ml: $(SRC_ir)$(slash)omake_install.ml
	$(LN) $(SRC_ir)$(slash)omake_install.ml omake_install.ml

omake_install.mli: $(SRC_ir)$(slash)omake_install.mli
	$(LN) $(SRC_ir)$(slash)omake_install.mli omake_install.mli

omake_ir.ml: $(SRC_ir)$(slash)omake_ir.ml
	$(LN) $(SRC_ir)$(slash)omake_ir.ml omake_ir.ml

omake_ir_free_vars.ml: $(SRC_ir)$(slash)omake_ir_free_vars.ml
	$(LN) $(SRC_ir)$(slash)omake_ir_free_vars.ml omake_ir_free_vars.ml

omake_ir_free_vars.mli: $(SRC_ir)$(slash)omake_ir_free_vars.mli
	$(LN) $(SRC_ir)$(slash)omake_ir_free_vars.mli omake_ir_free_vars.mli

omake_ir_print.ml: $(SRC_ir)$(slash)omake_ir_print.ml
	$(LN) $(SRC_ir)$(slash)omake_ir_print.ml omake_ir_print.ml

omake_ir_print.mli: $(SRC_ir)$(slash)omake_ir_print.mli
	$(LN) $(SRC_ir)$(slash)omake_ir_print.mli omake_ir_print.mli

omake_ir_util.ml: $(SRC_ir)$(slash)omake_ir_util.ml
	$(LN) $(SRC_ir)$(slash)omake_ir_util.ml omake_ir_util.ml

omake_lexer.ml: $(SRC_ir)$(slash)omake_lexer.ml
	$(LN) $(SRC_ir)$(slash)omake_lexer.ml omake_lexer.ml

omake_node.ml: $(SRC_ir)$(slash)omake_node.ml
	$(LN) $(SRC_ir)$(slash)omake_node.ml omake_node.ml

omake_node.mli: $(SRC_ir)$(slash)omake_node.mli
	$(LN) $(SRC_ir)$(slash)omake_node.mli omake_node.mli

omake_node_sig.ml: $(SRC_ir)$(slash)omake_node_sig.ml
	$(LN) $(SRC_ir)$(slash)omake_node_sig.ml omake_node_sig.ml

omake_node_type.ml: $(SRC_ir)$(slash)omake_node_type.ml
	$(LN) $(SRC_ir)$(slash)omake_node_type.ml omake_node_type.ml

omake_options.ml: $(SRC_ir)$(slash)omake_options.ml
	$(LN) $(SRC_ir)$(slash)omake_options.ml omake_options.ml

omake_options.mli: $(SRC_ir)$(slash)omake_options.mli
	$(LN) $(SRC_ir)$(slash)omake_options.mli omake_options.mli

omake_parser.ml: $(SRC_ir)$(slash)omake_parser.ml
	$(LN) $(SRC_ir)$(slash)omake_parser.ml omake_parser.ml

omake_pos.ml: $(SRC_ir)$(slash)omake_pos.ml
	$(LN) $(SRC_ir)$(slash)omake_pos.ml omake_pos.ml

omake_pos.mli: $(SRC_ir)$(slash)omake_pos.mli
	$(LN) $(SRC_ir)$(slash)omake_pos.mli omake_pos.mli

omake_shell_type.ml: $(SRC_ir)$(slash)omake_shell_type.ml
	$(LN) $(SRC_ir)$(slash)omake_shell_type.ml omake_shell_type.ml

omake_state.ml: $(SRC_ir)$(slash)omake_state.ml
	$(LN) $(SRC_ir)$(slash)omake_state.ml omake_state.ml

omake_state.mli: $(SRC_ir)$(slash)omake_state.mli
	$(LN) $(SRC_ir)$(slash)omake_state.mli omake_state.mli

omake_symbol.ml: $(SRC_ir)$(slash)omake_symbol.ml
	$(LN) $(SRC_ir)$(slash)omake_symbol.ml omake_symbol.ml

omake_value_print.ml: $(SRC_ir)$(slash)omake_value_print.ml
	$(LN) $(SRC_ir)$(slash)omake_value_print.ml omake_value_print.ml

omake_value_print.mli: $(SRC_ir)$(slash)omake_value_print.mli
	$(LN) $(SRC_ir)$(slash)omake_value_print.mli omake_value_print.mli

omake_value_type.ml: $(SRC_ir)$(slash)omake_value_type.ml
	$(LN) $(SRC_ir)$(slash)omake_value_type.ml omake_value_type.ml

omake_value_util.ml: $(SRC_ir)$(slash)omake_value_util.ml
	$(LN) $(SRC_ir)$(slash)omake_value_util.ml omake_value_util.ml

omake_value_util.mli: $(SRC_ir)$(slash)omake_value_util.mli
	$(LN) $(SRC_ir)$(slash)omake_value_util.mli omake_value_util.mli

omake_var.ml: $(SRC_ir)$(slash)omake_var.ml
	$(LN) $(SRC_ir)$(slash)omake_var.ml omake_var.ml

omake_var.mli: $(SRC_ir)$(slash)omake_var.mli
	$(LN) $(SRC_ir)$(slash)omake_var.mli omake_var.mli

ALLFILES_ir = omake_cache.ml omake_cache.mli omake_cache_type.ml omake_command.ml omake_command.mli omake_command_type.ml omake_command_type.mli omake_install.ml omake_install.mli omake_ir.ml omake_ir_free_vars.ml omake_ir_free_vars.mli omake_ir_print.ml omake_ir_print.mli omake_ir_util.ml omake_lexer.ml omake_node.ml omake_node.mli omake_node_sig.ml omake_node_type.ml omake_options.ml omake_options.mli omake_parser.ml omake_pos.ml omake_pos.mli omake_shell_type.ml omake_state.ml omake_state.mli omake_symbol.ml omake_value_print.ml omake_value_print.mli omake_value_type.ml omake_value_util.ml omake_value_util.mli omake_var.ml omake_var.mli


CMOFILES_exec = omake_exec_id.cmo omake_exec_type.cmo omake_exec_print.cmo omake_exec_util.cmo omake_exec_local.cmo omake_exec_remote.cmo omake_exec_notify.cmo omake_exec.cmo
OCAML_LIB_FLAGS_exec =

exec.cma: $(CMOFILES_exec)
	$(OCAMLC) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_exec) -a -o $@ $(CMOFILES_exec)

exec.cmxa: $(CMOFILES_exec:.cmo=.cmx)
	$(OCAMLOPT) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_exec) -a -o $@ $(CMOFILES_exec:.cmo=.cmx)

SRC_exec = ..$(slash)src$(slash)exec

omake_exec.ml: $(SRC_exec)$(slash)omake_exec.ml
	$(LN) $(SRC_exec)$(slash)omake_exec.ml omake_exec.ml

omake_exec.mli: $(SRC_exec)$(slash)omake_exec.mli
	$(LN) $(SRC_exec)$(slash)omake_exec.mli omake_exec.mli

omake_exec_id.ml: $(SRC_exec)$(slash)omake_exec_id.ml
	$(LN) $(SRC_exec)$(slash)omake_exec_id.ml omake_exec_id.ml

omake_exec_id.mli: $(SRC_exec)$(slash)omake_exec_id.mli
	$(LN) $(SRC_exec)$(slash)omake_exec_id.mli omake_exec_id.mli

omake_exec_local.ml: $(SRC_exec)$(slash)omake_exec_local.ml
	$(LN) $(SRC_exec)$(slash)omake_exec_local.ml omake_exec_local.ml

omake_exec_local.mli: $(SRC_exec)$(slash)omake_exec_local.mli
	$(LN) $(SRC_exec)$(slash)omake_exec_local.mli omake_exec_local.mli

omake_exec_notify.ml: $(SRC_exec)$(slash)omake_exec_notify.ml
	$(LN) $(SRC_exec)$(slash)omake_exec_notify.ml omake_exec_notify.ml

omake_exec_notify.mli: $(SRC_exec)$(slash)omake_exec_notify.mli
	$(LN) $(SRC_exec)$(slash)omake_exec_notify.mli omake_exec_notify.mli

omake_exec_print.ml: $(SRC_exec)$(slash)omake_exec_print.ml
	$(LN) $(SRC_exec)$(slash)omake_exec_print.ml omake_exec_print.ml

omake_exec_print.mli: $(SRC_exec)$(slash)omake_exec_print.mli
	$(LN) $(SRC_exec)$(slash)omake_exec_print.mli omake_exec_print.mli

omake_exec_remote.ml: $(SRC_exec)$(slash)omake_exec_remote.ml
	$(LN) $(SRC_exec)$(slash)omake_exec_remote.ml omake_exec_remote.ml

omake_exec_remote.mli: $(SRC_exec)$(slash)omake_exec_remote.mli
	$(LN) $(SRC_exec)$(slash)omake_exec_remote.mli omake_exec_remote.mli

omake_exec_type.ml: $(SRC_exec)$(slash)omake_exec_type.ml
	$(LN) $(SRC_exec)$(slash)omake_exec_type.ml omake_exec_type.ml

omake_exec_util.ml: $(SRC_exec)$(slash)omake_exec_util.ml
	$(LN) $(SRC_exec)$(slash)omake_exec_util.ml omake_exec_util.ml

omake_exec_util.mli: $(SRC_exec)$(slash)omake_exec_util.mli
	$(LN) $(SRC_exec)$(slash)omake_exec_util.mli omake_exec_util.mli

ALLFILES_exec = omake_exec.ml omake_exec.mli omake_exec_id.ml omake_exec_id.mli omake_exec_local.ml omake_exec_local.mli omake_exec_notify.ml omake_exec_notify.mli omake_exec_print.ml omake_exec_print.mli omake_exec_remote.ml omake_exec_remote.mli omake_exec_type.ml omake_exec_util.ml omake_exec_util.mli


CMOFILES_ast = omake_ast.cmo omake_ast_util.cmo omake_ast_print.cmo
OCAML_LIB_FLAGS_ast =

ast.cma: $(CMOFILES_ast)
	$(OCAMLC) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_ast) -a -o $@ $(CMOFILES_ast)

ast.cmxa: $(CMOFILES_ast:.cmo=.cmx)
	$(OCAMLOPT) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_ast) -a -o $@ $(CMOFILES_ast:.cmo=.cmx)

SRC_ast = ..$(slash)src$(slash)ast

omake_ast.ml: $(SRC_ast)$(slash)omake_ast.ml
	$(LN) $(SRC_ast)$(slash)omake_ast.ml omake_ast.ml

omake_ast_print.ml: $(SRC_ast)$(slash)omake_ast_print.ml
	$(LN) $(SRC_ast)$(slash)omake_ast_print.ml omake_ast_print.ml

omake_ast_print.mli: $(SRC_ast)$(slash)omake_ast_print.mli
	$(LN) $(SRC_ast)$(slash)omake_ast_print.mli omake_ast_print.mli

omake_ast_util.ml: $(SRC_ast)$(slash)omake_ast_util.ml
	$(LN) $(SRC_ast)$(slash)omake_ast_util.ml omake_ast_util.ml

omake_ast_util.mli: $(SRC_ast)$(slash)omake_ast_util.mli
	$(LN) $(SRC_ast)$(slash)omake_ast_util.mli omake_ast_util.mli

ALLFILES_ast = omake_ast.ml omake_ast_print.ml omake_ast_print.mli omake_ast_util.ml omake_ast_util.mli


CMOFILES_omake_gen_parse = omake_gen_parse.cmo
OCAML_LIBS_omake_gen_parse =
OCAML_OTHER_LIBS_omake_gen_parse = unix.cma
OCAML_CLIBS_omake_gen_parse =
OCAML_CCLIBS_omake_gen_parse =

omake_gen_parse_byte$(EXE): $(CMOFILES_omake_gen_parse) $(OCAML_LIBS_omake_gen_parse) $(OCAML_CLIBS_omake_gen_parse)
	$(OCAMLC) $(OCAMLFLAGS) -custom -o $@ $(OCAML_CCLIBS_omake_gen_parse) $(OCAML_OTHER_LIBS_omake_gen_parse) $(THREADSLIB) $(OCAML_LIBS_omake_gen_parse) $(CMOFILES_omake_gen_parse)

omake_gen_parse$(EXE): $(CMOFILES_omake_gen_parse:.cmo=.cmx) $(OCAML_LIBS_omake_gen_parse:.cma=.cmxa) $(OCAML_CLIBS_omake_gen_parse:.cma=.cmxa)
	$(OCAMLOPT) $(OCAMLFLAGS) -o $@ $(OCAML_CCLIBS_omake_gen_parse) $(OCAML_OTHER_LIBS_omake_gen_parse:.cma=.cmxa) $(THREADSLIB:.cma=.cmxa) $(OCAML_LIBS_omake_gen_parse:.cma=.cmxa) $(CMOFILES_omake_gen_parse:.cmo=.cmx)

CMOFILES_env = omake_env.cmo omake_exn_print.cmo omake_ast_parse.cmo omake_ast_lex.cmo omake_exp_parse.cmo omake_exp_lex.cmo omake_ir_ast.cmo omake_ir_semant.cmo omake_command_digest.cmo
OCAML_LIB_FLAGS_env =

env.cma: $(CMOFILES_env)
	$(OCAMLC) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_env) -a -o $@ $(CMOFILES_env)

env.cmxa: $(CMOFILES_env:.cmo=.cmx)
	$(OCAMLOPT) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_env) -a -o $@ $(CMOFILES_env:.cmo=.cmx)

GENPARSE = omake_gen_parse
omake_ast_parse.mly: $(GENPARSE)$(EXE) omake_ast_parse.input
	$(DOT)$(GENPARSE) -o $@ omake_ast_parse.input

omake_ast_lex.ml: omake_ast_lex.mll
omake_ast_lex.cmo: omake_ast_lex.cmi
omake_ast_parse.ml: omake_ast_parse.mly
omake_ast_parse.mli: omake_ast_parse.mly
omake_ast_parse.cmo: omake_ast_parse.cmi
omake_exp_parse.ml: omake_exp_parse.mly
omake_exp_parse.mli: omake_exp_parse.mly
omake_exp_parse.cmo: omake_exp_parse.cmi

omake_ast_lex.mll: ..$(slash)src$(slash)env$(slash)omake_ast_lex.mll
	$(LN) ..$(slash)src$(slash)env$(slash)omake_ast_lex.mll omake_ast_lex.mll

omake_ast_parse.input: ..$(slash)src$(slash)env$(slash)omake_ast_parse.input
	$(LN) ..$(slash)src$(slash)env$(slash)omake_ast_parse.input omake_ast_parse.input

omake_exp_parse.mly: ..$(slash)src$(slash)env$(slash)omake_exp_parse.mly
	$(LN) ..$(slash)src$(slash)env$(slash)omake_exp_parse.mly omake_exp_parse.mly

omake_env.cmo omake_exn_print.cmo omake_ast_parse.cmo omake_ast_lex.cmo omake_exp_parse.cmo omake_exp_lex.cmo omake_ir_ast.cmo omake_ir_semant.cmo omake_command_digest.cmo omake_env.cmi omake_exn_print.cmi omake_ast_parse.cmi omake_ast_lex.cmi omake_exp_parse.cmi omake_exp_lex.cmi omake_ir_ast.cmi omake_ir_semant.cmi omake_command_digest.cmi: magic.cma

Makefile.dep: omake_ast_lex.ml omake_ast_parse.mly omake_ast_parse.mli omake_ast_parse.ml omake_exp_parse.ml omake_exp_parse.mli

SRC_env = ..$(slash)src$(slash)env

omake_ast_lex.mli: $(SRC_env)$(slash)omake_ast_lex.mli
	$(LN) $(SRC_env)$(slash)omake_ast_lex.mli omake_ast_lex.mli

omake_command_digest.ml: $(SRC_env)$(slash)omake_command_digest.ml
	$(LN) $(SRC_env)$(slash)omake_command_digest.ml omake_command_digest.ml

omake_command_digest.mli: $(SRC_env)$(slash)omake_command_digest.mli
	$(LN) $(SRC_env)$(slash)omake_command_digest.mli omake_command_digest.mli

omake_env.ml: $(SRC_env)$(slash)omake_env.ml
	$(LN) $(SRC_env)$(slash)omake_env.ml omake_env.ml

omake_env.mli: $(SRC_env)$(slash)omake_env.mli
	$(LN) $(SRC_env)$(slash)omake_env.mli omake_env.mli

omake_exn_print.ml: $(SRC_env)$(slash)omake_exn_print.ml
	$(LN) $(SRC_env)$(slash)omake_exn_print.ml omake_exn_print.ml

omake_exn_print.mli: $(SRC_env)$(slash)omake_exn_print.mli
	$(LN) $(SRC_env)$(slash)omake_exn_print.mli omake_exn_print.mli

omake_exp_lex.ml: $(SRC_env)$(slash)omake_exp_lex.ml
	$(LN) $(SRC_env)$(slash)omake_exp_lex.ml omake_exp_lex.ml

omake_exp_lex.mli: $(SRC_env)$(slash)omake_exp_lex.mli
	$(LN) $(SRC_env)$(slash)omake_exp_lex.mli omake_exp_lex.mli

omake_gen_parse.ml: $(SRC_env)$(slash)omake_gen_parse.ml
	$(LN) $(SRC_env)$(slash)omake_gen_parse.ml omake_gen_parse.ml

omake_ir_ast.ml: $(SRC_env)$(slash)omake_ir_ast.ml
	$(LN) $(SRC_env)$(slash)omake_ir_ast.ml omake_ir_ast.ml

omake_ir_ast.mli: $(SRC_env)$(slash)omake_ir_ast.mli
	$(LN) $(SRC_env)$(slash)omake_ir_ast.mli omake_ir_ast.mli

omake_ir_semant.ml: $(SRC_env)$(slash)omake_ir_semant.ml
	$(LN) $(SRC_env)$(slash)omake_ir_semant.ml omake_ir_semant.ml

omake_ir_semant.mli: $(SRC_env)$(slash)omake_ir_semant.mli
	$(LN) $(SRC_env)$(slash)omake_ir_semant.mli omake_ir_semant.mli

ALLFILES_env = omake_ast_lex.mli omake_command_digest.ml omake_command_digest.mli omake_env.ml omake_env.mli omake_exn_print.ml omake_exn_print.mli omake_exp_lex.ml omake_exp_lex.mli omake_gen_parse.ml omake_ir_ast.ml omake_ir_ast.mli omake_ir_semant.ml omake_ir_semant.mli omake_ast_lex.mll omake_ast_parse.input omake_exp_parse.mly


CMOFILES_shell = omake_shell_parse.cmo omake_shell_lex.cmo omake_shell_spawn.cmo omake_shell_sys_type.cmo omake_shell_sys.cmo omake_shell_job.cmo omake_shell_completion.cmo
OCAML_LIB_FLAGS_shell =

shell.cma: $(CMOFILES_shell)
	$(OCAMLC) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_shell) -a -o $@ $(CMOFILES_shell)

shell.cmxa: $(CMOFILES_shell:.cmo=.cmx)
	$(OCAMLOPT) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_shell) -a -o $@ $(CMOFILES_shell:.cmo=.cmx)

omake_shell_parse.ml: omake_shell_parse.mly
omake_shell_parse.mli: omake_shell_parse.mly
omake_shell_parse.cmo: omake_shell_parse.cmi

omake_shell_parse.mly: ..$(slash)src$(slash)shell$(slash)omake_shell_parse.mly
	$(LN) ..$(slash)src$(slash)shell$(slash)omake_shell_parse.mly omake_shell_parse.mly

omake_shell_sys.ml: ..$(slash)src$(slash)shell$(slash)omake_shell_sys_$(win32).ml
	$(LN) ..$(slash)src$(slash)shell$(slash)omake_shell_sys_$(win32).ml omake_shell_sys.ml

Makefile.dep: omake_shell_parse.mli omake_shell_parse.ml omake_shell_sys.ml

SRC_shell = ..$(slash)src$(slash)shell

omake_shell_completion.ml: $(SRC_shell)$(slash)omake_shell_completion.ml
	$(LN) $(SRC_shell)$(slash)omake_shell_completion.ml omake_shell_completion.ml

omake_shell_completion.mli: $(SRC_shell)$(slash)omake_shell_completion.mli
	$(LN) $(SRC_shell)$(slash)omake_shell_completion.mli omake_shell_completion.mli

omake_shell_job.ml: $(SRC_shell)$(slash)omake_shell_job.ml
	$(LN) $(SRC_shell)$(slash)omake_shell_job.ml omake_shell_job.ml

omake_shell_job.mli: $(SRC_shell)$(slash)omake_shell_job.mli
	$(LN) $(SRC_shell)$(slash)omake_shell_job.mli omake_shell_job.mli

omake_shell_lex.ml: $(SRC_shell)$(slash)omake_shell_lex.ml
	$(LN) $(SRC_shell)$(slash)omake_shell_lex.ml omake_shell_lex.ml

omake_shell_lex.mli: $(SRC_shell)$(slash)omake_shell_lex.mli
	$(LN) $(SRC_shell)$(slash)omake_shell_lex.mli omake_shell_lex.mli

omake_shell_spawn.ml: $(SRC_shell)$(slash)omake_shell_spawn.ml
	$(LN) $(SRC_shell)$(slash)omake_shell_spawn.ml omake_shell_spawn.ml

omake_shell_spawn.mli: $(SRC_shell)$(slash)omake_shell_spawn.mli
	$(LN) $(SRC_shell)$(slash)omake_shell_spawn.mli omake_shell_spawn.mli

omake_shell_sys.mli: $(SRC_shell)$(slash)omake_shell_sys.mli
	$(LN) $(SRC_shell)$(slash)omake_shell_sys.mli omake_shell_sys.mli

omake_shell_sys_type.ml: $(SRC_shell)$(slash)omake_shell_sys_type.ml
	$(LN) $(SRC_shell)$(slash)omake_shell_sys_type.ml omake_shell_sys_type.ml

ALLFILES_shell = omake_shell_completion.ml omake_shell_completion.mli omake_shell_job.ml omake_shell_job.mli omake_shell_lex.ml omake_shell_lex.mli omake_shell_spawn.ml omake_shell_spawn.mli omake_shell_sys.mli omake_shell_sys_type.ml omake_shell_parse.mly omake_shell_sys.ml


CMOFILES_eval = omake_eval.cmo omake_value.cmo
OCAML_LIB_FLAGS_eval =

eval.cma: $(CMOFILES_eval)
	$(OCAMLC) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_eval) -a -o $@ $(CMOFILES_eval)

eval.cmxa: $(CMOFILES_eval:.cmo=.cmx)
	$(OCAMLOPT) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_eval) -a -o $@ $(CMOFILES_eval:.cmo=.cmx)

SRC_eval = ..$(slash)src$(slash)eval

omake_eval.ml: $(SRC_eval)$(slash)omake_eval.ml
	$(LN) $(SRC_eval)$(slash)omake_eval.ml omake_eval.ml

omake_eval.mli: $(SRC_eval)$(slash)omake_eval.mli
	$(LN) $(SRC_eval)$(slash)omake_eval.mli omake_eval.mli

omake_value.ml: $(SRC_eval)$(slash)omake_value.ml
	$(LN) $(SRC_eval)$(slash)omake_value.ml omake_value.ml

omake_value.mli: $(SRC_eval)$(slash)omake_value.mli
	$(LN) $(SRC_eval)$(slash)omake_value.mli omake_value.mli

ALLFILES_eval = omake_eval.ml omake_eval.mli omake_value.ml omake_value.mli


CMOFILES_build = omake_rule.cmo omake_build_type.cmo omake_build_tee.cmo omake_build_util.cmo omake_builtin_type.cmo omake_target.cmo omake_builtin.cmo omake_build.cmo
OCAML_LIB_FLAGS_build =

build.cma: $(CMOFILES_build)
	$(OCAMLC) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_build) -a -o $@ $(CMOFILES_build)

build.cmxa: $(CMOFILES_build:.cmo=.cmx)
	$(OCAMLOPT) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_build) -a -o $@ $(CMOFILES_build:.cmo=.cmx)

omake_rule.cmo omake_build_type.cmo omake_build_tee.cmo omake_build_util.cmo omake_builtin_type.cmo omake_target.cmo omake_builtin.cmo omake_build.cmo omake_rule.cmi omake_build_tee.cmi omake_build_util.cmi omake_target.cmi omake_builtin.cmi omake_build.cmi: magic.cma

SRC_build = ..$(slash)src$(slash)build

omake_build.ml: $(SRC_build)$(slash)omake_build.ml
	$(LN) $(SRC_build)$(slash)omake_build.ml omake_build.ml

omake_build.mli: $(SRC_build)$(slash)omake_build.mli
	$(LN) $(SRC_build)$(slash)omake_build.mli omake_build.mli

omake_build_tee.ml: $(SRC_build)$(slash)omake_build_tee.ml
	$(LN) $(SRC_build)$(slash)omake_build_tee.ml omake_build_tee.ml

omake_build_tee.mli: $(SRC_build)$(slash)omake_build_tee.mli
	$(LN) $(SRC_build)$(slash)omake_build_tee.mli omake_build_tee.mli

omake_build_type.ml: $(SRC_build)$(slash)omake_build_type.ml
	$(LN) $(SRC_build)$(slash)omake_build_type.ml omake_build_type.ml

omake_build_util.ml: $(SRC_build)$(slash)omake_build_util.ml
	$(LN) $(SRC_build)$(slash)omake_build_util.ml omake_build_util.ml

omake_build_util.mli: $(SRC_build)$(slash)omake_build_util.mli
	$(LN) $(SRC_build)$(slash)omake_build_util.mli omake_build_util.mli

omake_builtin.ml: $(SRC_build)$(slash)omake_builtin.ml
	$(LN) $(SRC_build)$(slash)omake_builtin.ml omake_builtin.ml

omake_builtin.mli: $(SRC_build)$(slash)omake_builtin.mli
	$(LN) $(SRC_build)$(slash)omake_builtin.mli omake_builtin.mli

omake_builtin_type.ml: $(SRC_build)$(slash)omake_builtin_type.ml
	$(LN) $(SRC_build)$(slash)omake_builtin_type.ml omake_builtin_type.ml

omake_rule.ml: $(SRC_build)$(slash)omake_rule.ml
	$(LN) $(SRC_build)$(slash)omake_rule.ml omake_rule.ml

omake_rule.mli: $(SRC_build)$(slash)omake_rule.mli
	$(LN) $(SRC_build)$(slash)omake_rule.mli omake_rule.mli

omake_target.ml: $(SRC_build)$(slash)omake_target.ml
	$(LN) $(SRC_build)$(slash)omake_target.ml omake_target.ml

omake_target.mli: $(SRC_build)$(slash)omake_target.mli
	$(LN) $(SRC_build)$(slash)omake_target.mli omake_target.mli

ALLFILES_build = omake_build.ml omake_build.mli omake_build_tee.ml omake_build_tee.mli omake_build_type.ml omake_build_util.ml omake_build_util.mli omake_builtin.ml omake_builtin.mli omake_builtin_type.ml omake_rule.ml omake_rule.mli omake_target.ml omake_target.mli


CMOFILES_builtin = omake_printf.cmo omake_builtin_util.cmo omake_builtin_base.cmo omake_builtin_arith.cmo omake_builtin_file.cmo omake_builtin_fun.cmo omake_builtin_io.cmo omake_builtin_io_fun.cmo omake_builtin_sys.cmo omake_builtin_target.cmo omake_builtin_shell.cmo omake_builtin_rule.cmo omake_builtin_object.cmo omake_builtin_test.cmo omake_builtin_ocamldep.cmo
OCAML_LIB_FLAGS_builtin = -linkall

builtin.cma: $(CMOFILES_builtin)
	$(OCAMLC) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_builtin) -a -o $@ $(CMOFILES_builtin)

builtin.cmxa: $(CMOFILES_builtin:.cmo=.cmx)
	$(OCAMLOPT) $(OCAMLFLAGS) $(OCAML_LIB_FLAGS_builtin) -a -o $@ $(CMOFILES_builtin:.cmo=.cmx)

omake_printf.cmo omake_builtin_util.cmo omake_builtin_base.cmo omake_builtin_arith.cmo omake_builtin_file.cmo omake_builtin_fun.cmo omake_builtin_io.cmo omake_builtin_io_fun.cmo omake_builtin_sys.cmo omake_builtin_target.cmo omake_builtin_shell.cmo omake_builtin_rule.cmo omake_builtin_object.cmo omake_builtin_test.cmo omake_builtin_ocamldep.cmo omake_printf.cmi omake_builtin_util.cmi omake_builtin_base.cmi omake_builtin_arith.cmi omake_builtin_file.cmi omake_builtin_fun.cmi omake_builtin_io.cmi omake_builtin_io_fun.cmi omake_builtin_sys.cmi omake_builtin_target.cmi omake_builtin_shell.cmi omake_builtin_rule.cmi omake_builtin_object.cmi omake_builtin_test.cmi: magic.cma

SRC_builtin = ..$(slash)src$(slash)builtin

omake_builtin_arith.ml: $(SRC_builtin)$(slash)omake_builtin_arith.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_arith.ml omake_builtin_arith.ml

omake_builtin_arith.mli: $(SRC_builtin)$(slash)omake_builtin_arith.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_arith.mli omake_builtin_arith.mli

omake_builtin_base.ml: $(SRC_builtin)$(slash)omake_builtin_base.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_base.ml omake_builtin_base.ml

omake_builtin_base.mli: $(SRC_builtin)$(slash)omake_builtin_base.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_base.mli omake_builtin_base.mli

omake_builtin_file.ml: $(SRC_builtin)$(slash)omake_builtin_file.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_file.ml omake_builtin_file.ml

omake_builtin_file.mli: $(SRC_builtin)$(slash)omake_builtin_file.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_file.mli omake_builtin_file.mli

omake_builtin_fun.ml: $(SRC_builtin)$(slash)omake_builtin_fun.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_fun.ml omake_builtin_fun.ml

omake_builtin_fun.mli: $(SRC_builtin)$(slash)omake_builtin_fun.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_fun.mli omake_builtin_fun.mli

omake_builtin_io.ml: $(SRC_builtin)$(slash)omake_builtin_io.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_io.ml omake_builtin_io.ml

omake_builtin_io.mli: $(SRC_builtin)$(slash)omake_builtin_io.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_io.mli omake_builtin_io.mli

omake_builtin_io_fun.ml: $(SRC_builtin)$(slash)omake_builtin_io_fun.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_io_fun.ml omake_builtin_io_fun.ml

omake_builtin_io_fun.mli: $(SRC_builtin)$(slash)omake_builtin_io_fun.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_io_fun.mli omake_builtin_io_fun.mli

omake_builtin_object.ml: $(SRC_builtin)$(slash)omake_builtin_object.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_object.ml omake_builtin_object.ml

omake_builtin_object.mli: $(SRC_builtin)$(slash)omake_builtin_object.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_object.mli omake_builtin_object.mli

omake_builtin_ocamldep.ml: $(SRC_builtin)$(slash)omake_builtin_ocamldep.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_ocamldep.ml omake_builtin_ocamldep.ml

omake_builtin_rule.ml: $(SRC_builtin)$(slash)omake_builtin_rule.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_rule.ml omake_builtin_rule.ml

omake_builtin_rule.mli: $(SRC_builtin)$(slash)omake_builtin_rule.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_rule.mli omake_builtin_rule.mli

omake_builtin_shell.ml: $(SRC_builtin)$(slash)omake_builtin_shell.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_shell.ml omake_builtin_shell.ml

omake_builtin_shell.mli: $(SRC_builtin)$(slash)omake_builtin_shell.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_shell.mli omake_builtin_shell.mli

omake_builtin_sys.ml: $(SRC_builtin)$(slash)omake_builtin_sys.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_sys.ml omake_builtin_sys.ml

omake_builtin_sys.mli: $(SRC_builtin)$(slash)omake_builtin_sys.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_sys.mli omake_builtin_sys.mli

omake_builtin_target.ml: $(SRC_builtin)$(slash)omake_builtin_target.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_target.ml omake_builtin_target.ml

omake_builtin_target.mli: $(SRC_builtin)$(slash)omake_builtin_target.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_target.mli omake_builtin_target.mli

omake_builtin_test.ml: $(SRC_builtin)$(slash)omake_builtin_test.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_test.ml omake_builtin_test.ml

omake_builtin_test.mli: $(SRC_builtin)$(slash)omake_builtin_test.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_test.mli omake_builtin_test.mli

omake_builtin_util.ml: $(SRC_builtin)$(slash)omake_builtin_util.ml
	$(LN) $(SRC_builtin)$(slash)omake_builtin_util.ml omake_builtin_util.ml

omake_builtin_util.mli: $(SRC_builtin)$(slash)omake_builtin_util.mli
	$(LN) $(SRC_builtin)$(slash)omake_builtin_util.mli omake_builtin_util.mli

omake_printf.ml: $(SRC_builtin)$(slash)omake_printf.ml
	$(LN) $(SRC_builtin)$(slash)omake_printf.ml omake_printf.ml

omake_printf.mli: $(SRC_builtin)$(slash)omake_printf.mli
	$(LN) $(SRC_builtin)$(slash)omake_printf.mli omake_printf.mli

ALLFILES_builtin = omake_builtin_arith.ml omake_builtin_arith.mli omake_builtin_base.ml omake_builtin_base.mli omake_builtin_file.ml omake_builtin_file.mli omake_builtin_fun.ml omake_builtin_fun.mli omake_builtin_io.ml omake_builtin_io.mli omake_builtin_io_fun.ml omake_builtin_io_fun.mli omake_builtin_object.ml omake_builtin_object.mli omake_builtin_ocamldep.ml omake_builtin_rule.ml omake_builtin_rule.mli omake_builtin_shell.ml omake_builtin_shell.mli omake_builtin_sys.ml omake_builtin_sys.mli omake_builtin_target.ml omake_builtin_target.mli omake_builtin_test.ml omake_builtin_test.mli omake_builtin_util.ml omake_builtin_util.mli omake_printf.ml omake_printf.mli


CMOFILES_omake = omake_main_util.cmo omake_shell.cmo omake_main.cmo
OCAML_LIBS_omake = lm.cma frt.cma magic.cma ast.cma ir.cma env.cma exec.cma eval.cma shell.cma build.cma builtin.cma
OCAML_OTHER_LIBS_omake = unix.cma
OCAML_CLIBS_omake = clib$(EXT_LIB)
OCAML_CCLIBS_omake = -cclib clib$(EXT_LIB)

omake_byte$(EXE): $(CMOFILES_omake) $(OCAML_LIBS_omake) $(OCAML_CLIBS_omake)
	$(OCAMLC) $(OCAMLFLAGS) -custom -o $@ $(OCAML_CCLIBS_omake) $(OCAML_OTHER_LIBS_omake) $(THREADSLIB) $(OCAML_LIBS_omake) $(CMOFILES_omake)

omake$(EXE): $(CMOFILES_omake:.cmo=.cmx) $(OCAML_LIBS_omake:.cma=.cmxa) $(OCAML_CLIBS_omake:.cma=.cmxa)
	$(OCAMLOPT) $(OCAMLFLAGS) -o $@ $(OCAML_CCLIBS_omake) $(OCAML_OTHER_LIBS_omake:.cma=.cmxa) $(THREADSLIB:.cma=.cmxa) $(OCAML_LIBS_omake:.cma=.cmxa) $(CMOFILES_omake:.cmo=.cmx)

omake_main_util.cmo omake_shell.cmo omake_main.cmo omake_shell.cmi omake_main.cmi: magic.cma

SRC_main = ..$(slash)src$(slash)main

omake_main.ml: $(SRC_main)$(slash)omake_main.ml
	$(LN) $(SRC_main)$(slash)omake_main.ml omake_main.ml

omake_main.mli: $(SRC_main)$(slash)omake_main.mli
	$(LN) $(SRC_main)$(slash)omake_main.mli omake_main.mli

omake_main_util.ml: $(SRC_main)$(slash)omake_main_util.ml
	$(LN) $(SRC_main)$(slash)omake_main_util.ml omake_main_util.ml

omake_shell.ml: $(SRC_main)$(slash)omake_shell.ml
	$(LN) $(SRC_main)$(slash)omake_shell.ml omake_shell.ml

omake_shell.mli: $(SRC_main)$(slash)omake_shell.mli
	$(LN) $(SRC_main)$(slash)omake_shell.mli omake_shell.mli

ALLFILES_main = omake_main.ml omake_main.mli omake_main_util.ml omake_shell.ml omake_shell.mli

ALLFILES = $(ALLFILES_clib) $(ALLFILES_libmojave) $(ALLFILES_front) $(ALLFILES_magic) $(ALLFILES_ir) $(ALLFILES_exec) $(ALLFILES_ast) $(ALLFILES_env) $(ALLFILES_shell) $(ALLFILES_eval) $(ALLFILES_build) $(ALLFILES_builtin) $(ALLFILES_main)

#
# Create a dependency file
#
Makefile.dep: $(ALLFILES)
	$(OCAMLDEP) $(OCAMLINCLUDES) *.ml *.mli > Makefile.dep

#
# Clean up
#
clean:
	$(RM) *.cmo *.cmx *.cma *.cmxa *.o *.obj *.a *.lib *.exe
	$(RM) $(ALLFILES)
	$(RM) omake


include Makefile.dep

